{% extends 'base.html' %}

{% block title %} - {{ active_product.name }} {% endblock %}

{% block content %}

<div class="row mb-3">
    <div class="col-sm">
        <h1> {{ active_product.name }}</h1>
    </div>
</div>

<div class="row">
    <div class="col-sm-3">
        <img class="card-img-top" src="{{ active_product.image }}">
    </div>
    <div class="col-sm-4">
        <h5 class="mb-3">Movie Description</h5>
        <p>{{ active_product.description }}</p>
    </div>
    <div class="col-sm-5">
        <h5 class="mb-3">Movie Details</h5>
        <table class="table table-sm">
          <tbody>
            <tr>
              <th scope="row">Genres</th>
              <td>
                  {% for genre in active_product.genres.split(',') %}
                  <span class="badge badge-dark">{{ genre }}</span>
                  {% endfor %}
              </td>
            </tr>
            <tr>
                <th scope="row">Rating</th>
                <td>{{active_product.rating}} <i class="fa fa-star"></i></td>
            </tr>
            <tr>
                <th scope="row">Director</th>
                <td>{{active_product.director}}</td>
            </tr>
            <tr>
                <th scope="row">Actors</th>
                <td>{{active_product.actors}}</td>
            </tr>
            <tr>
                <th scope="row">Duration</th>
                <td>{{active_product.duration}} minutes</td>
            </tr>
            <tr>
                <th scope="row">Awards</th>
                <td>{{active_product.awards}}</td>
            </tr>
            <tr>
                <th scope="row">Released</th>
                <td>{{active_product.year}}</td>
            </tr>
            <tr>
                <th scope="row">Country</th>
                <td>{{active_product.country}}</td>
            </tr>
          </tbody>
        </table>
    </div>
</div>

<div class="row mt-5">
    <div class="col-sm">
        <h2>Recommendations</h2>
    </div>
</div>

{% for r in recommendations %}
    <div class="row mt-3">
        <div class="col-sm">
            <h3 class="mb-3">{{ r.display_name }}</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card-deck">
            {% for i in r.products %}
                <a href="{{ url_for('product.index', product_id=i.id) }}"
                    style="text-decoration:none; color: inherit;">
                <div class="card h-100 mb-10 border-0" style="width: 10rem;">
                    <img class="card-img-top"
                         src="{{i.image}}"
                         style="width: 100%;height: 15vw;object-fit: cover;"
                         alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title"> {{ i.name }}</h5>
                    </div>
                </div>
                </a>
            {% endfor %}
            </div>
        </div>
    </div>
{% endfor %}

{% endblock %}

